!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).NumberFormat={},e.React)}(this,function(e,R){"use strict";var k,t,M="default"in R?R.default:R;function I(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function P(){}function K(e){return!!(e||"").match(/\d/)}function w(e){return null==e}function x(e){return"number"==typeof e&&isNaN(e)}function h(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function d(e,t,r){var r=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(r),n=-1===(n=e.search(/[1-9]/))?e.length:n;return e.substring(0,n)+e.substring(n,e.length).replace(r,"$1"+t)}function S(e,t){void 0===t&&(t=!0);var r="-"===e[0],t=r&&t,e=(e=e.replace("-","")).split(".");return{beforeDecimal:e[0],afterDecimal:e[1]||"",hasNegation:r,addNegation:t}}function g(e,t,r){for(var n="",a=r?"0":"",o=0;o<=t-1;o++)n+=e[o]||a;return n}function a(e,t){return Array(t+1).join(e)}function N(e){var t,e=e+"",r="-"===e[0]?"-":"",e=(e=r?e.substring(1):e).split(/[eE]/g),n=e[0],e=e[1];return(e=Number(e))&&(e=1+e,t=(n=n.replace(".","")).length,e<0?n="0."+a("0",Math.abs(e))+n:t<=e?n+=a("0",e-t):n=(n.substring(0,e)||"0")+"."+n.substring(e)),r+n}function D(e,t,r){var n,a,o,i;return-1!==["","-"].indexOf(e)?e:(n=(-1!==e.indexOf(".")||r)&&t,a=(e=S(e)).beforeDecimal,i=e.afterDecimal,e=e.hasNegation,o=parseFloat("0."+(i||"0")),i=(i.length<=t?"0."+i:o.toFixed(t)).split("."),(e?"-":"")+a.split("").reverse().reduce(function(e,t,r){return e.length>r?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},i[0])+(n?".":"")+g(i[1]||"",t,r))}function W(e,t){var r;e.value=e.value,null!==e&&(e.createTextRange?((r=e.createTextRange()).move("character",t),r.select()):e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t)):e.focus())}function L(e){return Math.max(e.selectionStart,e.selectionEnd)}function y(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function m(e,t){return"string"==typeof(e=void 0===e?" ":e)?e:e[t]||" "}function U(e,t,r,n){var a,o,i=e.length;if(e=t,a=0,o=i,t=Math.min(Math.max(e,a),o),"left"===n){for(;0<=t&&!r[t];)t--;-1===t&&(t=r.indexOf(!0))}else{for(;t<=i&&!r[t];)t++;i<t&&(t=r.lastIndexOf(!0))}return t=-1===t?i:t}function G(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),r=0,n=t.length;r<n;r++)t[r]=Boolean(K(e[r])||K(e[r-1]));return t}function $(e,t,r,n,a,o){void 0===o&&(o=P);var i,u=R.useRef(),l=(s=function(e){var t,e=w(e)||x(e)?t="":"number"==typeof e||r?(t="number"==typeof e?N(e):e,n(t)):(t=a(e,void 0),e);return{formattedValue:e,numAsString:t}},(i=R.useRef(s)).current=s,R.useRef(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return i.current.apply(i,e)}).current),s=R.useState(function(){return l(t)}),c=s[0],f=s[1];return R.useMemo(function(){w(e)?u.current=void 0:(u.current=l(e),f(u.current))},[e,l]),[c,function(e,t){f({formattedValue:e.formattedValue,numAsString:e.value}),o(e,t)}]}function Z(e){return e.replace(/[^0-9]/g,"")}function _(e){return e}function r(e){function u(e,t,r){return U(e,t,b(e),r)}function r(e,t,r){var n,a,o=function(e,t){for(var r=0,n=0,a=e.length,o=t.length;e[r]===t[r]&&r<a;)r++;for(;e[a-1-n]===t[o-1-n]&&r<o-n&&r<a-n;)n++;return{from:{start:r,end:a-n},to:{start:r,end:o-n}}}(x,e),o=Object.assign(Object.assign({},o),{lastValue:x}),o=s(e,o),i=F(o),o=s(i,void 0);return g&&!g(B(i,o))?(a=L(n=t.target),a=A(e,x,a),j(n,a,x),!1):(T({formattedValue:i,numAsString:o,inputValue:e,event:t,source:r,setCaretPosition:!0,input:t.target}),!0)}var t=e.type,n=(void 0===t&&(t="text"),e.displayType),a=(void 0===n&&(n="input"),e.customInput),o=e.renderText,i=e.getInputRef,l=e.format,s=(void 0===l&&(l=_),e.removeFormatting),c=(void 0===s&&(s=Z),e.defaultValue),f=e.valueIsNumericString,d=e.onValueChange,g=e.isAllowed,m=e.onChange,v=(void 0===m&&(m=P),e.onKeyDown),p=(void 0===v&&(v=P),e.onMouseUp),h=(void 0===p&&(p=P),e.onFocus),S=(void 0===h&&(h=P),e.onBlur),y=(void 0===S&&(S=P),e.value),b=e.getCaretBoundary,w=(void 0===b&&(b=G),e.isValidInputCharacter),e=(void 0===w&&(w=K),I(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter"])),y=$(y,c,Boolean(f),l,s,d),c=y[0],x=c.formattedValue,N=c.numAsString,D=y[1],O=R.useRef(),f=(R.useEffect(function(){var e,t,r=l(N);void 0!==O.current&&r===O.current||(e=C.current,t=s(r,void 0),T({formattedValue:r,numAsString:t,input:e,setCaretPosition:!0,source:k.props,event:void 0}))}),R.useState(!1)),d=f[0],V=f[1],C=R.useRef(null),E=R.useRef({setCaretTimeout:null,focusTimeout:null}),F=(R.useEffect(function(){return V(!0),function(){clearTimeout(E.current.setCaretTimeout),clearTimeout(E.current.focusTimeout)}},[]),l),B=function(e,t){var r=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(r)?void 0:r}},j=function(e,t,r){W(e,t),E.current.setCaretTimeout=setTimeout(function(){e.value===r&&W(e,t)},0)},A=function(e,t,r){var n=b(t);return U(t,function(e,t,r,n,a,o){for(var a=a.findIndex(function(e){return e}),a=e.slice(0,a),i=(t||r.startsWith(a)||(r=a+r,n+=a.length),r.length),u=e.length,l={},s=new Array(i),c=0;c<i;c++){s[c]=-1;for(var f=0,d=u;f<d;f++)if(r[c]===e[f]&&!0!==l[f]){l[s[c]=f]=!0;break}}for(var g=n;g<i&&(-1===s[g]||!o(r[g]));)g++;for(t=g===i||-1===s[g]?u:s[g],g=n-1;0<g&&-1===s[g];)g--;return a=-1===g||-1===s[g]?0:s[g]+1,!(t<a)&&n-a<t-n?a:t}(t,x,e,r,n,w),n)},T=function(e){var t,r=e.formattedValue,n=(void 0===r&&(r=""),e.input),a=e.setCaretPosition,o=(void 0===a&&(a=!0),e.source),i=e.event,u=e.numAsString,l=e.caretPos;n&&(void 0===l&&a&&(e=e.inputValue||n.value,t=L(n),n.value=r,l=A(e,r,t)),n.value=r,a&&void 0!==l&&j(n,l,r)),r!==x&&(e=B(r,u),t={event:i,source:o},O.current=e.formattedValue,D(e,t))},c=d&&!("undefined"==typeof navigator||navigator.platform&&/iPhone|iPod/.test(navigator.platform))?"numeric":void 0,y=Object.assign({inputMode:c},e,{type:t,value:x,onChange:function(e){var t=e.target.value;r(t,e,k.event)&&m(e)},onKeyDown:function(e){var t,r=e.target,n=e.key,a=r.selectionStart,o=r.selectionEnd,i=r.value;void 0===i&&(i=""),"ArrowLeft"===n||"Backspace"===n?t=Math.max(a-1,0):"ArrowRight"===n?t=Math.min(a+1,i.length):"Delete"===n&&(t=a),void 0!==t&&a===o&&(a=t,"ArrowLeft"===n||"ArrowRight"===n?a=u(i,t,"ArrowLeft"===n?"left":"right"):"Delete"!==n||w(i[t])?"Backspace"!==n||w(i[t])||(a=u(i,t,"left")):a=u(i,t,"right"),a!==t&&j(r,a,i),e.isUnitTestRun&&j(r,a,i)),v(e)},onMouseUp:function(e){var t=e.target,r=t.selectionStart,n=t.selectionEnd,a=t.value;void 0===a&&(a=""),r===n&&(n=u(a,r))!==r&&j(t,n,a),p(e)},onFocus:function(a){a.persist&&a.persist();var o=a.target;C.current=o,E.current.focusTimeout=setTimeout(function(){var e=o.selectionStart,t=o.selectionEnd,r=o.value,n=u(r=void 0===r?"":r,e);n===e||0===e&&t===r.length||j(o,n,r),h(a)},0)},onBlur:function(e){C.current=null,clearTimeout(E.current.focusTimeout),clearTimeout(E.current.setCaretTimeout),S(e)}});return"text"===n?o?M.createElement(M.Fragment,null,o(x,e)||null):M.createElement("span",Object.assign({},e,{ref:i}),x):a?M.createElement(a,Object.assign({},y,{ref:i})):M.createElement("input",Object.assign({},y,{ref:i}))}function O(e,t){var r,n,a,o,i=t.decimalScale,u=t.fixedDecimalScale,l=t.prefix,s=(void 0===l&&(l=""),t.suffix),c=(void 0===s&&(s=""),t.allowNegative),f=t.thousandsGroupStyle;return void 0===f&&(f="thousand"),""!==e&&"-"!==e&&(r=(t=V(t)).thousandSeparator,t=t.decimalSeparator,n=0!==i&&-1!==e.indexOf(".")||i&&u,a=(c=S(e,c)).beforeDecimal,o=c.afterDecimal,c=c.addNegation,void 0!==i&&(o=g(o,i,!!u)),r&&(a=d(a,r,f)),l&&(a=l+a),s&&(o+=s),e=(a=c?"-"+a:a)+(n&&t||"")+o),e}function V(e){var t=e.decimalSeparator,r=e.thousandSeparator,e=e.allowedDecimalSeparators;return{decimalSeparator:t=void 0===t?".":t,thousandSeparator:r=!0===r?",":r,allowedDecimalSeparators:e=e||[t,"."]}}function C(e,t,r){void 0===t&&(t=y(e));var n,a,o,i,u=r.allowNegative,l=r.prefix,s=(void 0===l&&(l=""),r.suffix),c=(void 0===s&&(s=""),r.decimalScale),f=t.from,d=t.to,g=d.start,m=d.end,r=V(r),v=r.allowedDecimalSeparators,r=r.decimalSeparator,p=e[m]===r;return K(e)&&(e===l||e===s)&&""===t.lastValue||(m-g==1&&-1!==v.indexOf(e[g])&&(v=0===c?"":r,e=e.substring(0,g)+v+e.substring(g+1,e.length)),v=(c=function(e,t,r){var n=!1,a=!1,o=(l.startsWith("-")?n=!1:e.startsWith("--")?a=!(n=!1):s.startsWith("-")&&e.length===s.length?n=!1:"-"===e[0]&&(n=!0),n?1:0);return(o=a?2:o)&&(e=e.substring(o),t-=o,r-=o),{value:e,start:t,end:r,hasNegation:n}})(e,g,m),i=v.hasNegation,e=v.value,g=v.start,m=v.end,c=(v=c(t.lastValue,f.start,f.end)).start,t=v.end,v=v.value,n=e.substring(g,m),a=0,(e=!(e.length&&v.length&&(c>v.length-s.length||t<l.length))||n&&s.startsWith(n)?e:v).startsWith(l)?a+=l.length:g<l.length&&(a=g),m-=a,c=(e=e.substring(a)).length,t=e.length-s.length,e.endsWith(s)?c=t:(t<m||m>e.length-s.length)&&(c=m),e=e.substring(0,c),n=u,void 0===(v=i?"-"+e:e)&&(v=""),g=new RegExp("(-)"),a=new RegExp("(-)(.)*(-)"),g=g.test(v),a=a.test(v),v=v.replace(/-/g,""),o=(e=((e=v=g&&!a&&n?"-"+v:v).match((t=!0,new RegExp("(^-)|[0-9]|"+h(r),t?"g":void 0)))||[]).join("")).indexOf(r),c=(m=S(e=e.replace(new RegExp(h(r),"g"),function(e,t){return t===o?".":""}),u)).beforeDecimal,i=m.afterDecimal,g=m.addNegation,d.end-d.start<f.end-f.start&&""===c&&p&&!parseFloat(i)&&(e=g?"-":"")),e}function E(e,t){var r=t.prefix,t=(void 0===r&&(r=""),t.suffix),n=(void 0===t&&(t=""),Array.from({length:e.length+1}).map(function(){return!0})),a="-"===e[0],r=(n.fill(!1,0,r.length+(a?1:0)),e.length);return n.fill(!1,r-t.length+1,r+1),n}function n(u){function e(e){return O(e,u)}function t(e,t){return C(e,t,u)}function r(e){return!w(e)&&!x(e)&&("number"==typeof e&&(e=N(e)),S&&"number"==typeof f)?D(e,f,Boolean(d)):e}var n=(u=function(e){var t=(r=V(e)).thousandSeparator,r=r.decimalSeparator,n=e.prefix,a=(void 0===n&&(n=""),e.allowNegative);if(void 0===a&&(a=!0),t===r)throw new Error("\n        Decimal separator can't be same as thousand separator.\n        thousandSeparator: "+t+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n        decimalSeparator: '+r+" (default value for decimalSeparator is .)\n     ");return n.startsWith("-")&&a&&(console.error("\n      Prefix can't start with '-' when allowNegative is true.\n      prefix: "+n+"\n      allowNegative: "+a+"\n    "),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}(u)).decimalSeparator,l=(void 0===n&&(n="."),u.allowedDecimalSeparators,u.thousandsGroupStyle,u.suffix,u.allowNegative),a=u.allowLeadingZeros,s=u.onKeyDown,o=(void 0===s&&(s=P),u.onBlur),c=(void 0===o&&(o=P),u.thousandSeparator),f=u.decimalScale,d=u.fixedDecimalScale,g=u.prefix,i=(void 0===g&&(g=""),u.defaultValue),m=u.value,v=u.valueIsNumericString,p=u.onValueChange,h=I(u,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),S=v,v=(w(m)?w(i)||(S=null!=v?v:"number"==typeof i):S=null!=v?v:"number"==typeof m,$(r(m),r(i),Boolean(S),e,t,p)),m=v[0],y=m.numAsString,i=m.formattedValue,b=v[1];return Object.assign(Object.assign({},h),{value:i,valueIsNumericString:!1,isValidInputCharacter:function(e){return e===n||K(e)},onValueChange:b,format:e,removeFormatting:t,getCaretBoundary:function(e){return E(e,u)},onKeyDown:function(e){var t,r=e.target,n=e.key,a=r.selectionStart,o=r.selectionEnd,i=r.value;void 0===i&&(i=""),a===o&&("Backspace"===n&&"-"===i[0]&&a===g.length+1&&l&&W(r,1),t=(o=V(u)).decimalSeparator,o=o.allowedDecimalSeparators,"Backspace"===n&&i[a-1]===t&&f&&d&&(W(r,a-1),e.preventDefault()),null!=o&&o.includes(n)&&i[a]===t&&W(r,a+1),o=!0===c?",":c,"Backspace"===n&&i[a-1]===o&&W(r,a-1),"Delete"===n&&i[a]===o&&W(r,a+1)),s(e)},onBlur:function(e){var t,r,n=y;n.match(/\d/g)||(n=""),a||(n=(r=n)&&((t="-"===r[0])?"-":"")+((t=(r=t?r.substring(1,r.length):r).split("."))[0].replace(/^0+/,"")||"0")+((t=t[1]||"")?"."+t:"")),(n=d&&f?D(n,f,d):n)!==y&&(r=O(n,u),b({formattedValue:r,value:n,floatValue:parseFloat(n)},{event:e,source:k.event})),o(e)}})}function o(e,t){var r=t.format,n=t.allowEmptyFormatting,a=t.mask,o=t.patternChar;if(void 0===o&&(o="#"),""===e&&!n)return"";for(var i=0,u=r.split(""),l=0,s=r.length;l<s;l++)r[l]===o&&(u[l]=e[i]||m(a,i),i+=1);return u.join("")}function i(e,t,r){void 0===t&&(t=y(e));function a(e){return i[e]===u}function n(e,t){for(var r="",n=0;n<e.length;n++)a(t+n)&&K(e[n])&&(r+=e[n]);return r}function o(e){return e.replace(/[^0-9]/g,"")}var i=r.format,u=r.patternChar,r=(void 0===u&&(u="#"),t.from),l=t.to,t=t.lastValue;void 0===t&&(t="");if(!i.match(/\d/))return o(e);if(""===t&&e.length===i.length){for(var s="",c=0;c<e.length;c++)if(a(c))K(e[c])&&(s+=e[c]);else if(e[c]!==i[c])return o(e);return s}var f=t.substring(0,r.start),l=e.substring(l.start,l.end),t=t.substring(r.end);return""+n(f,0)+o(l)+n(t,r.end)}function u(n,e){for(var t=e.format,a=e.mask,o=e.patternChar,r=(void 0===o&&(o="#"),Array.from({length:n.length+1}).map(function(){return!0})),i=0,u=-1,l={},s=(t.split("").forEach(function(e,t){var r=void 0;e===o&&(r=m(a,++i-1),-1===u&&n[t]===r&&(u=t)),l[t]=r}),function(e){return t[e]===o&&n[e]!==l[e]}),c=0,f=r.length;c<f;c++)r[c]=c===u||s(c)||s(c-1);return r[t.indexOf(o)]=!0,r}function l(r){r.mask,r.allowEmptyFormatting;var l=r.format,e=r.inputMode,s=(void 0===e&&(e="numeric"),r.onKeyDown),c=(void 0===s&&(s=P),r.patternChar),t=(void 0===c&&(c="#"),I(r,["mask","allowEmptyFormatting","format","inputMode","onKeyDown","patternChar"])),n=r;if((n=n.mask)&&("string"===n?n:n.toString()).match(/\d/g))throw new Error("Mask "+n+" should not contain numeric character;");function f(e){return u(e,r)}return Object.assign(Object.assign({},t),{inputMode:e,format:function(e){return o(e,r)},removeFormatting:function(e,t){return i(e,t,r)},getCaretBoundary:f,onKeyDown:function(e){var t=e.key,r=e.target,n=r.selectionStart,a=r.selectionEnd,o=r.value;if(n===a){var i=n;if("Backspace"===t||"Delete"===t){a="right";if("Backspace"===t){for(;0<i&&l[i-1]!==c;)i--;a="left"}else{for(var u=l.length;i<u&&l[i]!==c;)i++;a="right"}i=U(o,i,f(o),a)}else l[i]!==c&&"ArrowLeft"!==t&&"ArrowRight"!==t&&(i=U(o,i+1,f(o),"right"));i!==n&&W(r,i)}s(e)}})}(t=k=k||{}).event="event",t.props="prop",e.NumberFormatBase=r,e.NumericFormat=function(e){return e=n(e),M.createElement(r,Object.assign({},e))},e.PatternFormat=function(e){return e=l(e),M.createElement(r,Object.assign({},e))},e.getNumericCaretBoundary=E,e.getPatternCaretBoundary=u,e.numericFormatter=O,e.patternFormatter=o,e.removeNumericFormat=C,e.removePatternFormat=i,e.useNumericFormat=n,e.usePatternFormat=l,Object.defineProperty(e,"__esModule",{value:!0})});
